<!DOCTYPE html>
<html lang="zh-CN">

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>登录 - 证书管理系统</title>

        <!-- Local Static Resources -->
        <!-- Font Awesome -->
        <link rel="stylesheet" href="{{ url_for('static', filename='vendor/css/fontawesome.min.css') }}">
        <!-- AdminLTE 3 CSS -->
        <link rel="stylesheet" href="{{ url_for('static', filename='vendor/css/adminlte.min.css') }}">
    </head>

    <body class="hold-transition login-page">
        <div class="login-box">
            <div class="card card-outline card-primary">
                <div class="card-header text-center">
                    <a href="#" class="h1">
                        <i class="fas fa-certificate text-warning"></i>
                        <b>证书</b>管理系统
                    </a>
                </div>
                <div class="card-body">
                    <p class="login-box-msg">请登录您的账号</p>

                    <!-- Flash Messages -->
                    {% with messages = get_flashed_messages(with_categories=true) %}
                    {% if messages %}
                    {% for category, message in messages %}
                    <div
                        class="alert alert-{{ 'danger' if category == 'error' else category }} alert-dismissible fade show">
                        <button type="button" class="close" data-dismiss="alert">&times;</button>
                        {{ message }}
                    </div>
                    {% endfor %}
                    {% endif %}
                    {% endwith %}

                    <form action="{{ url_for('auth.login') }}" method="post">
                        {{ form.hidden_tag() }}

                        <div class="input-group mb-3">
                            {{ form.account_id(class="form-control", placeholder="学（工）号") }}
                            <div class="input-group-append">
                                <div class="input-group-text">
                                    <span class="fas fa-user"></span>
                                </div>
                            </div>
                        </div>
                        {% if form.account_id.errors %}
                        <div class="text-danger mb-2">
                            {% for error in form.account_id.errors %}{{ error }}{% endfor %}
                        </div>
                        {% endif %}

                        <div class="input-group mb-3">
                            {{ form.password(class="form-control", placeholder="密码") }}
                            <div class="input-group-append">
                                <div class="input-group-text">
                                    <span class="fas fa-lock"></span>
                                </div>
                            </div>
                        </div>
                        {% if form.password.errors %}
                        <div class="text-danger mb-2">
                            {% for error in form.password.errors %}{{ error }}{% endfor %}
                        </div>
                        {% endif %}

                        <div class="row">
                            <div class="col-8">
                                <div class="icheck-primary">
                                    {{ form.remember(class="") }}
                                    <label for="remember">记住我</label>
                                </div>
                            </div>
                            <div class="col-4">
                                {{ form.submit(class="btn btn-primary btn-block") }}
                            </div>
                        </div>
                    </form>

                    <p class="mb-0 mt-3">
                        <a href="{{ url_for('auth.register') }}" class="text-center">
                            没有账号？立即注册
                        </a>
                    </p>
                </div>
            </div>
        </div>

        <!-- Local Static Resources -->
        <!-- jQuery -->
        <script src="{{ url_for('static', filename='vendor/js/jquery.min.js') }}"></script>
        <!-- Bootstrap 4 -->
        <script src="{{ url_for('static', filename='vendor/js/bootstrap.bundle.min.js') }}"></script>
        <!-- AdminLTE App -->
        <script src="{{ url_for('static', filename='vendor/js/adminlte.min.js') }}"></script>
    </body>

</html>